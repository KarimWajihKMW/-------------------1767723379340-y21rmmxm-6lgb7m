<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>๐งญ ุจูุงุจุฉ ุงูุนูููุงุช ูุงูุทูุจุงุช ุงูุฅุฏุงุฑูุฉ ูุงูููุงุฑุฏ ุงูุจุดุฑูุฉ - ูุธุงู ูุงููุด</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #0ea5e9 0%, #6366f1 55%, #14b8a6 100%);
            min-height: 100vh;
        }
        .card-glass {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }
        .stat-pill { border-radius: 999px; box-shadow: 0 18px 30px rgba(15, 23, 42, 0.15); }
        .stat-angled { border-radius: 28px 6px 28px 6px; }
        .stat-rounded { border-radius: 28px; }
        .stat-cut { border-radius: 6px 28px 6px 28px; }
        .table-scroll { max-height: 560px; overflow: auto; }
        .section-accent-sky { border-top: 4px solid #0ea5e9; }
        .section-accent-emerald { border-top: 4px solid #10b981; }
        .section-accent-amber { border-top: 4px solid #f59e0b; }
        .section-accent-violet { border-top: 4px solid #8b5cf6; }
        .section-accent-rose { border-top: 4px solid #f43f5e; }
        .chip { padding: 6px 12px; border-radius: 999px; font-weight: 700; }
    </style>
</head>
<body>
    <div class="container mx-auto px-4 py-8">
        <div class="mb-8 text-white">
            <h1 class="text-4xl font-bold mb-2">๐งญ ุจูุงุจุฉ ุงูุนูููุงุช ูุงูุทูุจุงุช ุงูุฅุฏุงุฑูุฉ ูุงูููุงุฑุฏ ุงูุจุดุฑูุฉ</h1>
            <p class="text-lg opacity-90">ูุงุฆูุฉ ุงูุทูุจุงุช ูุงูุนูููุงุช ูุงููุฑุงุฑุงุช ูุงูุฑูุงุชุจ ูุงูุฎุฏูุงุช (ุงูุตูุญุฉ 43)</p>
        </div>

        <div class="mb-6 flex flex-wrap gap-3">
            <button onclick="refreshData()" class="bg-white text-sky-700 px-6 py-3 rounded-full font-bold hover:shadow-lg transition flex items-center gap-2">
                <i class="fas fa-rotate"></i>
                ุชุญุฏูุซ ุงูุจูุงูุงุช
            </button>
            <button onclick="downloadAllJSON()" class="bg-indigo-600 text-white px-6 py-3 rounded-full font-bold hover:shadow-lg transition flex items-center gap-2">
                <i class="fas fa-file-code"></i>
                ุชูุฒูู ููู ุจูุงูุงุช ุดุงูู
            </button>
            <button onclick="downloadAllCSV()" class="bg-emerald-600 text-white px-6 py-3 rounded-full font-bold hover:shadow-lg transition flex items-center gap-2">
                <i class="fas fa-file-csv"></i>
                ุชูุฒูู ููู ุฌุฏููู ุดุงูู
            </button>
            <button onclick="printReport()" class="bg-rose-600 text-white px-6 py-3 rounded-full font-bold hover:shadow-lg transition flex items-center gap-2">
                <i class="fas fa-print"></i>
                ุทุจุงุนุฉ ุงูุชูุฑูุฑ
            </button>
        </div>

        <!-- Requests & Forms -->
        <div class="card-glass rounded-3xl shadow-2xl p-6 mb-8 section-accent-sky">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold text-slate-800">๐งพ ุงูุทูุจุงุช ูุงูููุงุฐุฌ</h2>
                <div class="text-sm text-slate-500">ูููุฐุฌ ูุจุงุดุฑ ููุทูุจุงุช ุงูุฃุณุงุณูุฉ</div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm">
                <div class="stat-pill bg-sky-50 p-4 text-slate-700">ุทูุจ ูุจุงุดุฑุฉ ุนูู</div>
                <div class="stat-angled bg-emerald-50 p-4 text-slate-700">ุทูุจ ุนูุฏุฉ</div>
                <div class="stat-rounded bg-indigo-50 p-4 text-slate-700">ุทูุจ ุจุฏูุงุช ุงูุฅุฌุงุฒุฉ</div>
                <div class="stat-cut bg-rose-50 p-4 text-slate-700">ุทูุจ ุฅุฌุงุฒุฉ</div>
                <div class="stat-pill bg-amber-50 p-4 text-slate-700">ุทูุจ ุชุนุฑูู ุจุงูุฑุงุชุจ</div>
                <div class="stat-angled bg-violet-50 p-4 text-slate-700">ุทูุจ ููุฏุงู ุจุตูุฉ</div>
                <div class="stat-rounded bg-sky-50 p-4 text-slate-700">ุทูุจ ุงุณุชุฆุฐุงู</div>
                <div class="stat-cut bg-emerald-50 p-4 text-slate-700">ุทูุจ ุชุนุฏูู ูุชุฑุฉ ุงูุนูู</div>
                <div class="stat-pill bg-indigo-50 p-4 text-slate-700">ุทูุจ ุฏูุงู ุฅุถุงูู</div>
                <div class="stat-angled bg-rose-50 p-4 text-slate-700">ุทูุจ ุชุฐุงูุฑ ุณูุฑ</div>
                <div class="stat-rounded bg-amber-50 p-4 text-slate-700">ุทูุจ ุงูุชุฏุงุจ</div>
                <div class="stat-cut bg-violet-50 p-4 text-slate-700">ุทูุจ ุชุนุฏูู ุจูุงูุงุช ุงูููุธู</div>
                <div class="stat-pill bg-sky-50 p-4 text-slate-700">ุทูุจ ูุดุชุฑูุงุช</div>
                <div class="stat-angled bg-emerald-50 p-4 text-slate-700">ุทูุจ ุณููุฉ</div>
                <div class="stat-rounded bg-indigo-50 p-4 text-slate-700">ุทูุจ ุตุฑู ูุฎุตุต</div>
                <div class="stat-cut bg-rose-50 p-4 text-slate-700">ุทูุจ ุฏูุงู ุฎุงุฑุฌ ุงูููุชุจ</div>
                <div class="stat-pill bg-amber-50 p-4 text-slate-700">ุทูุจ ุฏูุฑุฉ ุชุฏุฑูุจูุฉ</div>
                <div class="stat-angled bg-violet-50 p-4 text-slate-700">ุทูุจ ุงุณุชูุงูุฉ</div>
                <div class="stat-rounded bg-sky-50 p-4 text-slate-700">ุทูุจ ุดููู</div>
                <div class="stat-cut bg-emerald-50 p-4 text-slate-700">ุทูุจ ุชูุธูู</div>
                <div class="stat-pill bg-indigo-50 p-4 text-slate-700">ุทูุจ ุชุซุจูุช ุงูุฑุงุชุจ</div>
                <div class="stat-angled bg-rose-50 p-4 text-slate-700">ุทูุจ ุชุจุฏูู ููู ุฑุงุญุฉ</div>
            </div>
        </div>

        <!-- Employee Zone -->
        <div class="card-glass rounded-3xl shadow-2xl p-6 mb-8 section-accent-emerald">
            <h2 class="text-2xl font-bold text-slate-800 mb-4">๐ค ุงูููุธู</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm">
                <div class="stat-rounded bg-emerald-50 p-4">ุงูุญุถูุฑ ูุงูุงูุตุฑุงู</div>
                <div class="stat-angled bg-sky-50 p-4">ุงูุทูุจุงุช</div>
                <div class="stat-pill bg-indigo-50 p-4">ุงูุฅุฌุงุฒุงุช</div>
                <div class="stat-cut bg-rose-50 p-4">ุฑุตูุฏ ุงูุฅุฌุงุฒุงุช</div>
                <div class="stat-rounded bg-amber-50 p-4">ุงูุฅุดุนุงุฑุงุช ูุงูุฅูุฐุงุฑุงุช</div>
                <div class="stat-angled bg-violet-50 p-4">ุงููุฑุงุฑุงุช</div>
                <div class="stat-pill bg-sky-50 p-4">ูุฎุงููุงุช ุฃูุธูุฉ ุงูุดุฑูุฉ</div>
                <div class="stat-cut bg-emerald-50 p-4">ููุงุฐุฌ ุงูุชูููู</div>
                <div class="stat-rounded bg-indigo-50 p-4">ุงูุชุนุงููู</div>
                <div class="stat-angled bg-rose-50 p-4">ุงูุณูู ูุงูุฐูู</div>
                <div class="stat-pill bg-amber-50 p-4">ุงูุงุณุชุจูุงูุงุช</div>
                <div class="stat-cut bg-violet-50 p-4">ุฃูุดุทุฉ ุงูุฃุนูุงู</div>
                <div class="stat-rounded bg-sky-50 p-4">ุงูุฎุทุงุจุงุช</div>
                <div class="stat-angled bg-emerald-50 p-4">ุงูุนูุฏ</div>
                <div class="stat-pill bg-indigo-50 p-4">ูุณุงุฆู ุงูุฑุงุชุจ</div>
            </div>
        </div>

        <!-- Manager Zone -->
        <div class="card-glass rounded-3xl shadow-2xl p-6 mb-8 section-accent-amber">
            <h2 class="text-2xl font-bold text-slate-800 mb-4">๐ ุงููุฏูุฑ</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm">
                <div class="stat-pill bg-amber-50 p-4">ุงูุญุถูุฑ ูุงูุงูุตุฑุงู</div>
                <div class="stat-rounded bg-sky-50 p-4">ุทูุจุงุช ุงููุฑุคูุณูู</div>
                <div class="stat-angled bg-emerald-50 p-4">ุฅุดุนุงุฑุงุช ุงููุฑุคูุณูู</div>
                <div class="stat-cut bg-indigo-50 p-4">ุฎุทุฉ ุงูุฅุฌุงุฒุงุช</div>
                <div class="stat-pill bg-rose-50 p-4">ุฅุณูุงุฏ ุทูุจ</div>
                <div class="stat-rounded bg-violet-50 p-4">ููุงุฐุฌ ุชูููู ุงููุฑุคูุณูู</div>
                <div class="stat-angled bg-amber-50 p-4">ูุงุฆูุฉ ุงููุฑุคูุณูู</div>
            </div>
        </div>

        <!-- Pending Operations -->
        <div class="card-glass rounded-3xl shadow-2xl p-6 mb-8 section-accent-violet">
            <h2 class="text-2xl font-bold text-slate-800 mb-4">โณ ุนูููุงุช ุจุงูุชุธุงุฑ ุฅุฌุฑุงุก</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm">
                <div class="stat-rounded bg-violet-50 p-4">ุนูููุงุช ุจุงูุชุธุงุฑ ุฅุฌุฑุงุก</div>
                <div class="stat-angled bg-sky-50 p-4">ุทูุจุงุช ุจุงูุชุธุงุฑ ุฅุฌุฑุงุก</div>
                <div class="stat-pill bg-emerald-50 p-4">ูุฑุงุฑุงุช ุจุงูุชุธุงุฑ ุฅุฌุฑุงุก</div>
                <div class="stat-cut bg-rose-50 p-4">ูุตุฑููุงุช ุจุงูุชุธุงุฑ ุฅุฌุฑุงุก</div>
            </div>
        </div>

        <!-- HR Zone -->
        <div class="card-glass rounded-3xl shadow-2xl p-6 mb-8 section-accent-rose">
            <h2 class="text-2xl font-bold text-slate-800 mb-4">๐งฉ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm">
                <div class="stat-rounded bg-rose-50 p-4">ุงูููุธููู</div>
                <div class="stat-angled bg-amber-50 p-4">ุงููููู ุงูุชูุธููู</div>
                <div class="stat-pill bg-emerald-50 p-4">ุงููููู ุงูุชูุธููู ููููุธููู</div>
                <div class="stat-cut bg-sky-50 p-4">ุงููููู ุงูุชูุธููู ููุฅุฏุงุฑุงุช</div>
                <div class="stat-rounded bg-indigo-50 p-4">ุงููุฎุตุตุงุช</div>
            </div>
        </div>

        <!-- Decisions & Payroll -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
            <div class="card-glass rounded-3xl shadow-2xl p-6 section-accent-indigo">
                <h2 class="text-2xl font-bold text-slate-800 mb-4">๐ ุงููุฑุงุฑุงุช</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3 text-sm">
                    <div class="stat-rounded bg-indigo-50 p-4">ุฅููุงุก ุฎุฏูุงุช ุงูููุธู</div>
                    <div class="stat-angled bg-emerald-50 p-4">ุฅููุงู ุฑุงุชุจ ููุธู</div>
                    <div class="stat-pill bg-rose-50 p-4">ุชุนุฏูู ุฑุงุชุจ</div>
                    <div class="stat-cut bg-amber-50 p-4">ูุฑุงุฑ ุชุฑููุฉ</div>
                    <div class="stat-rounded bg-sky-50 p-4">ุงุนุชูุงุฏ ูุณูุฑ ุงูุฑูุงุชุจ</div>
                    <div class="stat-angled bg-violet-50 p-4">ูุฑุงุฑ ุญุณู ุบูุงุจ ูุชุฃุฎูุฑ</div>
                    <div class="stat-pill bg-emerald-50 p-4">ูุฑุงุฑ ููู ููุธู</div>
                    <div class="stat-cut bg-indigo-50 p-4">ุฌููุน ุงููุฑุงุฑุงุช</div>
                </div>
            </div>
            <div class="card-glass rounded-3xl shadow-2xl p-6 section-accent-emerald">
                <h2 class="text-2xl font-bold text-slate-800 mb-4">๐ฐ ุงูุฑูุงุชุจ ูุงููุตุฑููุงุช</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3 text-sm">
                    <div class="stat-rounded bg-emerald-50 p-4">ูุณูุฑุงุช ุงูุฑูุงุชุจ</div>
                    <div class="stat-angled bg-rose-50 p-4">ุงูุญุณููุงุช</div>
                    <div class="stat-pill bg-amber-50 p-4">ุญุณููุงุช ูุชูุฑุฑุฉ</div>
                    <div class="stat-cut bg-sky-50 p-4">ุงูุฅุถุงูุงุช</div>
                    <div class="stat-rounded bg-violet-50 p-4">ุฅุถุงูุงุช ูุชูุฑุฑุฉ</div>
                    <div class="stat-angled bg-indigo-50 p-4">ุงูุณูู ูุงูุฐูู</div>
                    <div class="stat-pill bg-emerald-50 p-4">ุงููุตุฑููุงุช</div>
                </div>
            </div>
        </div>

        <!-- Government Services & Visas -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
            <div class="card-glass rounded-3xl shadow-2xl p-6 section-accent-sky">
                <h2 class="text-2xl font-bold text-slate-800 mb-4">๐๏ธ ุงูุฎุฏูุงุช ุงูุญููููุฉ</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3 text-sm">
                    <div class="stat-rounded bg-sky-50 p-4">ุงูุชุฃูููุงุช ุงูุงุฌุชูุงุนูุฉ</div>
                    <div class="stat-angled bg-emerald-50 p-4">ุฎุฏูุงุช ูููู</div>
                </div>
            </div>
            <div class="card-glass rounded-3xl shadow-2xl p-6 section-accent-amber">
                <h2 class="text-2xl font-bold text-slate-800 mb-4">๐ ุชุฃุดูุฑุงุช ุงูุฎุฑูุฌ ูุงูุนูุฏุฉ</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3 text-sm">
                    <div class="stat-pill bg-amber-50 p-4">ุฅุตุฏุงุฑ</div>
                    <div class="stat-rounded bg-rose-50 p-4">ุฅูุบุงุก</div>
                    <div class="stat-angled bg-sky-50 p-4">ุฅุนุงุฏุฉ ุทุจุงุนุฉ ุชุฃุดูุฑุฉ ุฎุฑูุฌ ูุนูุฏุฉ</div>
                    <div class="stat-cut bg-emerald-50 p-4">ุชุฃุดูุฑุงุช ุงูุฎุฑูุฌ ุงูููุงุฆู</div>
                    <div class="stat-pill bg-violet-50 p-4">ุฅุตุฏุงุฑ</div>
                    <div class="stat-rounded bg-indigo-50 p-4">ุฅูุบุงุก</div>
                    <div class="stat-angled bg-amber-50 p-4">ุฎุฏูุงุช ุงูุฌูุงุฒ</div>
                    <div class="stat-cut bg-rose-50 p-4">ุชุฌุฏูุฏ ุงูุฅูุงูุฉ</div>
                    <div class="stat-pill bg-sky-50 p-4">ุณุฌู ุงูุนูููุงุช</div>
                </div>
            </div>
        </div>

        <!-- Training & Notifications -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
            <div class="card-glass rounded-3xl shadow-2xl p-6 section-accent-violet">
                <h2 class="text-2xl font-bold text-slate-800 mb-4">๐ ุงูุชุฏุฑูุจ ูุงูุชุทููุฑ</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3 text-sm">
                    <div class="stat-rounded bg-violet-50 p-4">ุงูุฃุฏุงุก ูุงูุชูููู</div>
                    <div class="stat-angled bg-emerald-50 p-4">ุงูุฏูุฑุงุช ุงูุชุฏุฑูุจูุฉ</div>
                    <div class="stat-pill bg-amber-50 p-4">ูุฌูุฉ ุงูููุงุฑุงุช</div>
                    <div class="stat-cut bg-sky-50 p-4">ุงูุชุนุงูุจ ุงููุธููู</div>
                </div>
            </div>
            <div class="card-glass rounded-3xl shadow-2xl p-6 section-accent-rose">
                <h2 class="text-2xl font-bold text-slate-800 mb-4">๐ ุงูุชุนุงููู ูุงูุฅุดุนุงุฑุงุช</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3 text-sm">
                    <div class="stat-rounded bg-rose-50 p-4">ุงูุฅุดุนุงุฑุงุช</div>
                    <div class="stat-angled bg-amber-50 p-4">ุงูุฅูุฐุงุฑุงุช</div>
                    <div class="stat-pill bg-emerald-50 p-4">ุงูุชุนุงููู</div>
                </div>
            </div>
        </div>

        <!-- Policies & Recruitment -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
            <div class="card-glass rounded-3xl shadow-2xl p-6 section-accent-indigo">
                <h2 class="text-2xl font-bold text-slate-800 mb-4">๐ ุงูุณูุงุณุงุช</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3 text-sm">
                    <div class="stat-rounded bg-indigo-50 p-4">ุนุฑุถ ุงูุณูุงุณุงุช</div>
                    <div class="stat-angled bg-sky-50 p-4">ุฅุฏุงุฑุฉ ุงูุณูุงุณุงุช</div>
                </div>
            </div>
            <div class="card-glass rounded-3xl shadow-2xl p-6 section-accent-emerald">
                <h2 class="text-2xl font-bold text-slate-800 mb-4">๐ฅ ุงูุชูุธูู</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3 text-sm">
                    <div class="stat-rounded bg-emerald-50 p-4">ูุงุฆูุฉ ุงููุธุงุฆู</div>
                    <div class="stat-angled bg-amber-50 p-4">ุฅุถุงูุฉ ุดุงุบุฑ ูุธููู</div>
                    <div class="stat-pill bg-rose-50 p-4">ุชูููู ุงูููุงุจูุงุช ุงูุดุฎุตูุฉ</div>
                    <div class="stat-cut bg-sky-50 p-4">ุจูุงุจุฉ ุงูุชูุธูู</div>
                </div>
            </div>
        </div>

        <!-- Reports & Self Services -->
        <div class="card-glass rounded-3xl shadow-2xl p-6 mb-8 section-accent-sky">
            <h2 class="text-2xl font-bold text-slate-800 mb-4">๐ ุงูุชูุงุฑูุฑ ูุงูุฎุฏูุงุช ุงูุฐุงุชูุฉ</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 text-sm">
                <div class="bg-slate-50 rounded-2xl p-5">
                    <h3 class="font-bold text-slate-800 mb-3">ุชูุงุฑูุฑ ูุงููุฉ</h3>
                    <ul class="space-y-2 text-slate-700">
                        <li>ุชูุฑูุฑ ุงูุญุณููุงุช ูุงูุฅุถุงูุงุช</li>
                        <li>ุชูุฑูุฑ ููุงูุฉ ุงูุฎุฏูุฉ</li>
                        <li>ุชูุฑูุฑ ูุฎุตุตุงุช ููุงูุฉ ุงูุฎุฏูุฉ</li>
                        <li>ุชูุฑูุฑ ูุณูุฑุงุช ุงูุฑูุงุชุจ</li>
                        <li>ุชูุฑูุฑ ุงููุฑููุงุช ุจูู ูุณูุฑุงุช ุงูุฑูุงุชุจ</li>
                        <li>ุชูุฑูุฑ ุงูุณูู ูุงูุฐูู</li>
                        <li>ุชูุฑูุฑ ุงููุตุฑููุงุช</li>
                    </ul>
                </div>
                <div class="bg-slate-50 rounded-2xl p-5">
                    <h3 class="font-bold text-slate-800 mb-3">ุงูุฎุฏูุงุช ุงูุฐุงุชูุฉ</h3>
                    <ul class="space-y-2 text-slate-700">
                        <li>ุชูุฑูุฑ ุงูุทูุจุงุช</li>
                        <li>ุชูุฑูุฑ ุทูุจุงุช ุงูุดุฑุงุก</li>
                        <li>ุชูุฑูุฑ ุงููุชูุฏููู</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Home Dashboard Note -->
        <div class="card-glass rounded-3xl shadow-2xl p-6 mb-8 section-accent-rose">
            <h2 class="text-2xl font-bold text-slate-800 mb-4">๐ ุงูุฑุฆูุณูุฉ</h2>
            <div class="bg-rose-50 rounded-2xl p-5 text-slate-700">
                ูู ุชูู ุจุฅุถุงูุฉ ุฃู ุนูุตุฑ ูููุญุฉ ุงูููุงุฏุฉ. ุจุฅููุงูู ุฅุถุงูุฉ ุนูุงุตุฑ ูููุญุฉ ุงูููุงุฏุฉ ูู ุฎูุงู ุงูุถุบุท ุนูู ุฒุฑ ุงูุฅุถุงูุฉ ุฃุนูู ุงูุดุงุดุฉ.
                ุนูุงุตุฑ ููุญุฉ ุงูููุงุฏุฉ ุชุนุทู ุฅุญุตุงุฆูุงุช ูุฃุฑูุงู ูุนุฏุฉ ููุงุถูุนุ ุชุณุงุนุฏ ูู ุฑูุน ุงูุฃุฏุงุก ูุชููุฑ ุงูููุช ูุงููุฌููุฏ.
            </div>
        </div>

        <!-- Data Tables -->
        <div class="card-glass rounded-3xl shadow-2xl p-6 mb-8 section-accent-emerald">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-xl font-bold text-slate-800">๐ฅ ุฌุฏูู ุงูููุธููู</h3>
                <span id="employeesCount" class="text-sm text-slate-500"></span>
            </div>
            <div class="table-scroll">
                <table class="w-full text-xs">
                    <thead class="bg-emerald-50 text-emerald-700">
                        <tr>
                            <th class="px-3 py-2 text-right">ุฑูู ุงูููุธู</th>
                            <th class="px-3 py-2 text-right">ุงูุงุณู</th>
                            <th class="px-3 py-2 text-right">ุงูุจุฑูุฏ</th>
                            <th class="px-3 py-2 text-right">ุงูููุตุจ</th>
                            <th class="px-3 py-2 text-right">ุงููุณู</th>
                            <th class="px-3 py-2 text-right">ุงูููุดุฃุฉ</th>
                            <th class="px-3 py-2 text-right">ุชุงุฑูุฎ ุงูุชุนููู</th>
                            <th class="px-3 py-2 text-right">ุงูุฑุงุชุจ</th>
                            <th class="px-3 py-2 text-right">ููุน ุงูุชูุธูู</th>
                            <th class="px-3 py-2 text-right">ุงูุญุงูุฉ</th>
                        </tr>
                    </thead>
                    <tbody id="employeesTable" class="divide-y divide-slate-100">
                        <tr>
                            <td colspan="10" class="px-4 py-12 text-center text-slate-500">ุฌุงุฑู ุชุญููู ุงูุจูุงูุงุช...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="card-glass rounded-3xl shadow-2xl p-6 mb-8 section-accent-violet">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-xl font-bold text-slate-800">๐จ ุฌุฏูู ุทูุจุงุช ุงูููุธููู</h3>
                <span id="requestsCount" class="text-sm text-slate-500"></span>
            </div>
            <div class="table-scroll">
                <table class="w-full text-xs">
                    <thead class="bg-violet-50 text-violet-700">
                        <tr>
                            <th class="px-3 py-2 text-right">ุฑูู ุงูุทูุจ</th>
                            <th class="px-3 py-2 text-right">ุงูููุธู</th>
                            <th class="px-3 py-2 text-right">ููุน ุงูุทูุจ</th>
                            <th class="px-3 py-2 text-right">ุงูุนููุงู</th>
                            <th class="px-3 py-2 text-right">ุงูุฃููููุฉ</th>
                            <th class="px-3 py-2 text-right">ุงูุญุงูุฉ</th>
                            <th class="px-3 py-2 text-right">ุชุงุฑูุฎ ุงูุทูุจ</th>
                            <th class="px-3 py-2 text-right">ุงูููุงููุฉ ูุทููุจุฉ</th>
                            <th class="px-3 py-2 text-right">ููุงุญุธุงุช</th>
                            <th class="px-3 py-2 text-right">ุชุงุฑูุฎ ุงูุฅูุดุงุก</th>
                        </tr>
                    </thead>
                    <tbody id="requestsTable" class="divide-y divide-slate-100">
                        <tr>
                            <td colspan="10" class="px-4 py-12 text-center text-slate-500">ุฌุงุฑู ุชุญููู ุงูุจูุงูุงุช...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="card-glass rounded-3xl shadow-2xl p-6 section-accent-rose">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-xl font-bold text-slate-800">๐ ุฌุฏูู ุฃููุงุน ุงูุทูุจุงุช</h3>
                <span id="typesCount" class="text-sm text-slate-500"></span>
            </div>
            <div class="table-scroll">
                <table class="w-full text-xs">
                    <thead class="bg-rose-50 text-rose-700">
                        <tr>
                            <th class="px-3 py-2 text-right">ุฑูู ุงูููุน</th>
                            <th class="px-3 py-2 text-right">ุงูุงุณู</th>
                            <th class="px-3 py-2 text-right">ุงููุฆุฉ</th>
                            <th class="px-3 py-2 text-right">ุงููุตู</th>
                            <th class="px-3 py-2 text-right">ูุชุทูุจ ููุงููุฉ</th>
                            <th class="px-3 py-2 text-right">ูุชุทูุจ ูุฏูุฑ</th>
                            <th class="px-3 py-2 text-right">ูุชุทูุจ ููุงุฑุฏ ุจุดุฑูุฉ</th>
                            <th class="px-3 py-2 text-right">ุงูุญุงูุฉ</th>
                        </tr>
                    </thead>
                    <tbody id="typesTable" class="divide-y divide-slate-100">
                        <tr>
                            <td colspan="8" class="px-4 py-12 text-center text-slate-500">ุฌุงุฑู ุชุญููู ุงูุจูุงูุงุช...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        const API_BASE = window.location.origin;

        let employees = [];
        let requests = [];
        let requestTypes = [];

        async function loadData() {
            try {
                const [employeesRes, requestsRes, typesRes] = await Promise.all([
                    fetch(`${API_BASE}/api/employees`),
                    fetch(`${API_BASE}/api/employee-requests`),
                    fetch(`${API_BASE}/api/request-types`)
                ]);

                const [employeesData, requestsData, typesData] = await Promise.all([
                    employeesRes.json(),
                    requestsRes.json(),
                    typesRes.json()
                ]);

                employees = Array.isArray(employeesData) ? employeesData : [];
                requests = Array.isArray(requestsData) ? requestsData : [];
                requestTypes = Array.isArray(typesData) ? typesData : [];

                renderTables();
            } catch (error) {
                console.error('ุฎุทุฃ ูู ุชุญููู ุงูุจูุงูุงุช:', error);
                renderTables();
            }
        }

        function renderTables() {
            const employeeRows = employees.map(e => `
                <tr class="hover:bg-emerald-50">
                    <td class="px-3 py-2">${sanitizeText(e.employee_number || e.id)}</td>
                    <td class="px-3 py-2 font-semibold">${sanitizeText(e.full_name)}</td>
                    <td class="px-3 py-2">${sanitizeText(e.email)}</td>
                    <td class="px-3 py-2">${sanitizeText(e.position)}</td>
                    <td class="px-3 py-2">${sanitizeText(e.department)}</td>
                    <td class="px-3 py-2">${sanitizeText(e.entity_name || e.entity_id)}</td>
                    <td class="px-3 py-2">${formatDate(e.hire_date)}</td>
                    <td class="px-3 py-2">${formatMoney(e.salary)}</td>
                    <td class="px-3 py-2">${translateEmploymentType(e.employment_type)}</td>
                    <td class="px-3 py-2">${e.is_active ? 'ูุดุท' : 'ุบูุฑ ูุดุท'}</td>
                </tr>
            `).join('');
            document.getElementById('employeesTable').innerHTML = employeeRows || `<tr><td colspan="10" class="px-4 py-12 text-center text-slate-500">ูุง ุชูุฌุฏ ุจูุงูุงุช</td></tr>`;
            document.getElementById('employeesCount').textContent = `ุนุฏุฏ ุงูุตููู: ${employees.length}`;

            const requestRows = requests.map(r => `
                <tr class="hover:bg-violet-50">
                    <td class="px-3 py-2">${sanitizeText(r.id)}</td>
                    <td class="px-3 py-2">${sanitizeText(r.employee_name || r.employee_id)}</td>
                    <td class="px-3 py-2">${resolveRequestTypeName(r.request_type)}</td>
                    <td class="px-3 py-2">${sanitizeText(r.request_title)}</td>
                    <td class="px-3 py-2">${translatePriority(r.priority)}</td>
                    <td class="px-3 py-2">${normalizeStatus(r.status)}</td>
                    <td class="px-3 py-2">${formatDate(r.requested_date)}</td>
                    <td class="px-3 py-2">${r.requires_approval ? 'ูุนู' : 'ูุง'}</td>
                    <td class="px-3 py-2">${truncate(sanitizeText(r.notes))}</td>
                    <td class="px-3 py-2">${formatDateTime(r.created_at)}</td>
                </tr>
            `).join('');
            document.getElementById('requestsTable').innerHTML = requestRows || `<tr><td colspan="10" class="px-4 py-12 text-center text-slate-500">ูุง ุชูุฌุฏ ุจูุงูุงุช</td></tr>`;
            document.getElementById('requestsCount').textContent = `ุนุฏุฏ ุงูุตููู: ${requests.length}`;

            const typeRows = requestTypes.map(t => `
                <tr class="hover:bg-rose-50">
                    <td class="px-3 py-2">${sanitizeText(t.id)}</td>
                    <td class="px-3 py-2 font-semibold">${sanitizeText(t.type_name_ar)}</td>
                    <td class="px-3 py-2">${translateCategory(t.category)}</td>
                    <td class="px-3 py-2">${truncate(sanitizeText(t.description_ar))}</td>
                    <td class="px-3 py-2">${t.requires_approval ? 'ูุนู' : 'ูุง'}</td>
                    <td class="px-3 py-2">${t.requires_manager_approval ? 'ูุนู' : 'ูุง'}</td>
                    <td class="px-3 py-2">${t.requires_hr_approval ? 'ูุนู' : 'ูุง'}</td>
                    <td class="px-3 py-2">${t.is_active ? 'ูุดุท' : 'ุบูุฑ ูุดุท'}</td>
                </tr>
            `).join('');
            document.getElementById('typesTable').innerHTML = typeRows || `<tr><td colspan="8" class="px-4 py-12 text-center text-slate-500">ูุง ุชูุฌุฏ ุจูุงูุงุช</td></tr>`;
            document.getElementById('typesCount').textContent = `ุนุฏุฏ ุงูุตููู: ${requestTypes.length}`;
        }

        function resolveRequestTypeName(code) {
            const match = requestTypes.find(t => t.type_code === code);
            return sanitizeText(match?.type_name_ar || code || 'ุบูุฑ ูุญุฏุฏ');
        }

        function normalizeStatus(value) {
            const map = {
                PENDING: 'ููุฏ ุงููุนุงูุฌุฉ',
                APPROVED: 'ูุนุชูุฏ',
                REJECTED: 'ูุฑููุถ',
                COMPLETED: 'ููุชูู',
                IN_PROGRESS: 'ููุฏ ุงูุชูููุฐ'
            };
            return map[String(value || '').toUpperCase()] || sanitizeText(value) || 'ุบูุฑ ูุญุฏุฏ';
        }

        function translatePriority(value) {
            const map = { HIGH: 'ุนุงุฌู', NORMAL: 'ุนุงุฏู', LOW: 'ููุฎูุถ' };
            return map[String(value || '').toUpperCase()] || sanitizeText(value) || 'ุบูุฑ ูุญุฏุฏ';
        }

        function translateEmploymentType(value) {
            const map = {
                FULL_TIME: 'ุฏูุงู ูุงูู',
                PART_TIME: 'ุฏูุงู ุฌุฒุฆู',
                CONTRACT: 'ุชุนุงูุฏ',
                TEMPORARY: 'ูุคูุช',
                INTERN: 'ุชุฏุฑูุจ'
            };
            return map[String(value || '').toUpperCase()] || sanitizeText(value) || 'ุบูุฑ ูุญุฏุฏ';
        }

        function translateCategory(value) {
            const map = {
                general: 'ุนุงู',
                leave: 'ุฅุฌุงุฒุงุช',
                payroll: 'ุฑูุงุชุจ',
                attendance: 'ุญุถูุฑ',
                hr: 'ููุงุฑุฏ ุจุดุฑูุฉ',
                admin: 'ุฅุฏุงุฑู'
            };
            return map[String(value || '').toLowerCase()] || sanitizeText(value) || 'ุบูุฑ ูุญุฏุฏ';
        }

        function formatMoney(value) {
            const num = parseFloat(value || 0);
            return num.toLocaleString('ar-SA') + ' ุฑ.ุณ';
        }

        function formatDate(value) {
            if (!value) return '-';
            return new Date(value).toLocaleDateString('ar-SA');
        }

        function formatDateTime(value) {
            if (!value) return '-';
            return new Date(value).toLocaleString('ar-SA');
        }

        function truncate(value) {
            if (value === null || value === undefined) return '-';
            const text = typeof value === 'string' ? value : JSON.stringify(value);
            return text.length > 120 ? text.slice(0, 120) + '...' : text;
        }

        function sanitizeText(value) {
            if (value === null || value === undefined) return '-';
            const text = typeof value === 'string' ? value : JSON.stringify(value);
            const cleaned = text.replace(/[A-Za-z]+/g, '').replace(/\s{2,}/g, ' ').trim();
            return cleaned || '-';
        }

        function downloadAllJSON() {
            const payload = { employees, requests, request_types: requestTypes };
            downloadBlob(JSON.stringify(payload, null, 2), 'ุจูุงุจุฉ-ุงูุนูููุงุช-ูุงูุทูุจุงุช.json', 'application/json');
        }

        function downloadAllCSV() {
            const rows = [];
            rows.push(['ุงูููุธููู']);
            rows.push(['ุฑูู ุงูููุธู','ุงูุงุณู','ุงูุจุฑูุฏ','ุงูููุตุจ','ุงููุณู','ุงูููุดุฃุฉ','ุชุงุฑูุฎ ุงูุชุนููู','ุงูุฑุงุชุจ','ููุน ุงูุชูุธูู','ุงูุญุงูุฉ']);
            employees.forEach(e => rows.push([
                e.employee_number || e.id,
                sanitizeText(e.full_name),
                sanitizeText(e.email),
                sanitizeText(e.position),
                sanitizeText(e.department),
                sanitizeText(e.entity_name || e.entity_id),
                e.hire_date,
                e.salary,
                translateEmploymentType(e.employment_type),
                e.is_active ? 'ูุดุท' : 'ุบูุฑ ูุดุท'
            ]));

            rows.push([]);
            rows.push(['ุทูุจุงุช ุงูููุธููู']);
            rows.push(['ุฑูู ุงูุทูุจ','ุงูููุธู','ููุน ุงูุทูุจ','ุงูุนููุงู','ุงูุฃููููุฉ','ุงูุญุงูุฉ','ุชุงุฑูุฎ ุงูุทูุจ','ุงูููุงููุฉ ูุทููุจุฉ','ููุงุญุธุงุช','ุชุงุฑูุฎ ุงูุฅูุดุงุก']);
            requests.forEach(r => rows.push([
                r.id,
                sanitizeText(r.employee_name || r.employee_id),
                resolveRequestTypeName(r.request_type),
                sanitizeText(r.request_title),
                translatePriority(r.priority),
                normalizeStatus(r.status),
                r.requested_date,
                r.requires_approval ? 'ูุนู' : 'ูุง',
                sanitizeText(r.notes),
                r.created_at
            ]));

            rows.push([]);
            rows.push(['ุฃููุงุน ุงูุทูุจุงุช']);
            rows.push(['ุฑูู ุงูููุน','ุงูุงุณู','ุงููุฆุฉ','ุงููุตู','ูุชุทูุจ ููุงููุฉ','ูุชุทูุจ ูุฏูุฑ','ูุชุทูุจ ููุงุฑุฏ ุจุดุฑูุฉ','ุงูุญุงูุฉ']);
            requestTypes.forEach(t => rows.push([
                t.id,
                sanitizeText(t.type_name_ar),
                translateCategory(t.category),
                sanitizeText(t.description_ar),
                t.requires_approval ? 'ูุนู' : 'ูุง',
                t.requires_manager_approval ? 'ูุนู' : 'ูุง',
                t.requires_hr_approval ? 'ูุนู' : 'ูุง',
                t.is_active ? 'ูุดุท' : 'ุบูุฑ ูุดุท'
            ]));

            const csvContent = rows.map(r => r.map(v => `"${v ?? ''}"`).join(',')).join('\n');
            downloadBlob(csvContent, 'ุจูุงุจุฉ-ุงูุนูููุงุช-ูุงูุทูุจุงุช.csv', 'text/csv;charset=utf-8;');
        }

        function downloadBlob(content, filename, type) {
            const blob = new Blob([content], { type });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = filename;
            link.click();
            URL.revokeObjectURL(url);
        }

        function printReport() {
            window.print();
        }

        function refreshData() {
            loadData();
        }

        document.addEventListener('DOMContentLoaded', loadData);
    </script>
</body>
</html>
